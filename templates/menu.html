<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Menu — VC Registry</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='header.css') }}">
  <style>
    :root{ --blue:#1a73e8; --blue-dark:#1558b0; --surface:#ffffff; --border:#e5e7eb; --sub:#6b7280; }
    body { margin:0; background:#f7f9fc; color:#111827; font-family: Arial, sans-serif; }
    main{ max-width:1200px; margin:0 auto; padding:1.25rem; }

    .hero{ padding:.75rem 0 1.25rem; border-bottom:1px solid var(--border); }
    .hero h1{ font-size:1.95rem; margin:.2rem 0; font-weight:800; letter-spacing:.2px; }
    .hero p{ margin:0; color:var(--sub); }

    .grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap:1rem; margin-top:1rem; }

    /* Card base */
    .card{ background:var(--surface); border:1px solid var(--border); border-radius:12px; padding:1rem; display:flex; flex-direction:column; gap:.5rem; }

    /* Only style the page chrome header, not card headers */
    .site-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.25rem;
      border-bottom: 1px solid var(--border);
      background: #fff;
    }
    .nav-group { display:flex; align-items:center; gap:1rem; }

    /* Card header: keep the letter and title side-by-side */
    .card > header{ display:flex; align-items:center; justify-content:flex-start; gap:.6rem; padding:0; border:0; background:transparent; }

    .mark{ width:28px; height:28px; border-radius:8px; background:var(--blue); color:#fff; display:grid; place-items:center; font-weight:800; font-family:'Roboto'; }

    .card h3{ margin:0; font-size:1.05rem; }
    .card p{ margin:.25rem 0; color:#374151; }
    ul{ margin:.25rem 0 0 1rem; color:#374151; }
    li{ margin:.25rem 0; }
    code{ font-family: ui-monospace, Menlo, Consolas, monospace; font-size:.95rem; }

    /* Actions row stays at the bottom of cards */
    .actions{ margin-top:auto; }
    .btn{ display:inline-flex; align-items:center; gap:.35rem; padding:.6rem .8rem; border-radius:8px; font-weight:600; text-decoration:none; border:1px solid #c7d2fe; background:#edf2ff; color:#1f3b8a; }
    .btn:hover{ background:#e0e7ff; }
    .btn-primary{ background:var(--blue); border-color:var(--blue); color:#fff; }
    .btn-primary:hover{ background:var(--blue-dark); }

    .tip{ font-size:.9rem; color:var(--sub); margin-top:.25rem; }

    @media (prefers-color-scheme: dark) {
      :root{ --surface:#1f1f1f; --border:#2a2a2a; --sub:#9aa0a6; }
      body{ background:#0f1113; color:#e8eaed; }
      .site-header{ background:#141618; }
      .btn{ background:#0f172a; color:#cbd5e1; border-color:#334155; }
      .btn:hover{ background:#111b2e; }
      .btn-primary{ background:#2563eb; border-color:#2563eb; color:#fff; }
      .btn-primary:hover{ background:#1e40af; }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div>
      <strong><a href="/" style="color: var(--primary); text-decoration: none;">VC-REGISTRY.COM</a></strong>
    </div>
    <div class="nav-group">
      <nav>
        <a href="/documentation/menu" target="_blank" rel="noopener">Explain ?</a>
      </nav>
      {% include "account.html" %}
    </div>
  </header>

  {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="flashes" role="status">
          {% for message in messages %}
            <p>{{ message }}</p>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

  <main>
    <section class="hero">
      <h1>VC Type (VCT) — Menu</h1>
      <p>Pick a flow to create or manage SD‑JWT VC <em>Type Metadata</em>.</p>
    </section>

    <section class="grid" aria-label="Create">
      <!-- 1) From an existing issuer (OIDC4VCI) -->
      <article class="card">
        <header>
          <div class="mark" aria-hidden="true">I</div>
          <h3>Generate from an Issuer</h3>
        </header>
        <p>Fetch an OIDC4VCI <strong>Credential Issuer</strong> metadata, select a credential configuration, and build the VCT file.</p>
        <ul>
          <li>Reads <code>vct</code>, <code>display[]</code>, <code>claims</code>, <code>schema</code> from issuer metadata</li>
          <li>Supports OIDC4VCI drafts 11 to final</li>
        </ul>
        <div class="actions"><a class="btn-primary btn" href="/attestation/generate/issuer">Import from Issuer →</a></div>
      </article>

      <!-- 2) From JSON Schema -->
      <article class="card">
        <header>
          <div class="mark" aria-hidden="true">S</div>
          <h3>Generate from JSON Schema</h3>
        </header>
        <p>Upload a JSON Schema (2020‑12+). We’ll use it directly for <code>schema</code> and let you add localized display.</p>
        <ul>
          <li>Keeps your property names as‑is</li>
          <li>Add translations for <code>display[]</code></li>
          <li>AI Assisted</li>
        </ul>
        <div class="actions"><a class="btn btn-primary" href="/attestation/generate/schema">Import JSON Schema →</a></div>
      </article>

      <!-- 3) From scratch -->
      <article class="card">
        <header>
          <div class="mark" aria-hidden="true">C</div>
          <h3>Generate from Scratch</h3>
        </header>
        <p>Describe your credential and target languages; we’ll help you draft the <code>schema</code> and <code>display[]</code>.</p>
        <ul>
          <li>Free-form description to schema</li>
          <li>30-language labels supported</li>
          <li>AI Assisted</li>
        </ul>
        <div class="actions">
          <a class="btn btn-primary" href="/attestation/generate/scratch">Start Blank →</a>
        </div>
      </article>

      <!-- 4) From file -->
      <article class="card">
        <header>
          <div class="mark" aria-hidden="true">F</div>
          <h3>Import from File</h3>
        </header>
        <p>If you already have your VC Type metadata, upload it to the registry in 1 click. <code>VC Type Url and integrity</code> will be calculated and added.</p>
        <ul>
           <li>VC Type editor</li>
          <li>Instant uploading</li>
          <li>Integrity and URL provided</li>
        </ul>
        <div class="actions">
          <a class="btn btn-primary" href="/vct/registry/import">Import from File →</a>
        </div>
      </article>
    </section>

    <section class="grid" aria-label="Registry">
      <!-- Register / Manage -->
      <article class="card">
        <header>
          <div class="mark" aria-hidden="true">R</div>
          <h3>Manage your VC Types</h3>
        </header>
        <p>Publish or delete your VC Types.</p>
        <ul>
          <li>Computes integrity (<code>sha256‑…</code>)</li>
          <li>Name & description required for registry</li>
        </ul>
        <div class="actions"><a class="btn btn-primary" href="/vct/registry/manage">Open your Workspace →</a></div>
      </article>

       <!-- Extend -->
      <article class="card">
        <header>
          <div class="mark" aria-hidden="true">E</div>
          <h3>Extend a VC Type</h3>
        </header>
        <p>Reuse and enrich existing VC Type.</p>
        <ul>
          <li>Computes integrity (<code>sha256‑…</code>)</li>
          <li>New Name & description required for registry</li>
        </ul>
        <div class="actions"><a class="btn btn-primary" href="/vct/registry/extend">Extend a VC Type →</a></div>
      </article>

      <!-- Browse the registry -->
      <article class="card">
        <header>
          <div class="mark" aria-hidden="true">B</div>
          <h3>Browse the Registry</h3>
        </header>
        <p>Search and discover reusable VC Types shared by the community.</p>
        <ul>
          <li>Keyword & optional AI search</li>
          <li>Ratings, usage, language coverage</li>
        </ul>
        <div class="actions"><a class="btn btn" href="/vct/registry/browse">Browse the Registry →</a></div>
      </article>
    </section>
  </main>

  {% include "footer.html" %}
</body>
</html>